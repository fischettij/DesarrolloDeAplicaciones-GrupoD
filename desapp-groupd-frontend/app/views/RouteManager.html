<div class="content-wrapper" style="min-height: 901px;" ng-controller="route_ctrl">

  <section class="content">

    <div class="row">
      <div class="col-sm-1"></div>
      <div class="col-sm-10 alert alert-danger alert-dismissible" ng-show="showVehicleError === true;">
        <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
        <p><i class="icon fa fa-ban"></i>{{ "ROUTE_ERROR" | translate}}</p>
      </div>
      <div class="col-sm-1"></div>
    </div>
    <div class="row">
      <div class="col-sm-1"></div>
      <div class="col-sm-10 alert alert-success alert-dismissible" ng-show="showVehicleSuccess === true;">
        <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
        <p><i class="icon fa fa-check"></i>{{ "ROUTE_SUCCESS" | translate}}</p>
      </div>
      <div class="col-sm-1"></div>
    </div>

    <div class="row">
      <div class="col-sm-12">
        <div class="box box-success">
          <div class="box-header with-border">
            <h3 class="box-title">{{"ACTIONS" | translate }}</h3>
            <div class="box-tools pull-right">
              <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
            </div>
          </div>
          <div class="box-body" style="display: block;">
            <div class="col-sm-3 pull-right">
              <button type="button" class="btn btn-block btn-primary ng-binding" data-toggle="modal" data-target="#modalNewRoute" ng-click="showMap(); getVehicles()">{{ "ADD_ROUTE" | translate }}</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-12">
        <div class="box">
          <div class="box-header with-border">
            <h3 class="box-title">{{"MY_ROUTES" | translate }}</h3>
          </div>
          <div class="box-body" style="display: block;">
            <div class="row"><div class="col-sm-6"></div><div class="col-sm-6"></div></div>
              <ng-include src="'views/myRoutesTable.html'"></ng-include> 
          </div>
        </div>
      </div>
    </div>

    <div class="box box-success">
      <div class="box-header with-border">
        <h3 class="box-title">{{ "SEARCH_ROUTE" | translate }}</h3>

        <div class="box-tools pull-right">
          <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
          </button>
        </div>
      </div>
      <!-- /.box-header -->
      <div class="box-body no-padding">
        <div class="row">
          <div class="col-md-9 col-sm-8">
            
<div class="col-sm-4">
  <form>
    <div class="box-body">      
      <div class="form-group">
        <label for="routeStartingPoint">{{ "STARTING_POINT" | translate}}</label>
        <div>
          <input type="text" class="form-control" id="routeStartingPoint"
          ng-model="route.startingPoint">
        </div>
      </div>
      <div class="form-group">
        <label for="routeEndingPoint">{{ "ENDING_POINT" | translate}}</label>
        <div>
          <input type="text" class="form-control" id="routeEndingPoint"
          ng-model="route.endingPoint">
        </div>
      </div>

      <div class="form-group">
        <label for="routeStartingDate">{{ "STARTING_DATE" | translate}}</label>
        <div>
          <input type="text" class="form-control" data-inputmask="'alias': 'dd/mm/yyyy'" data-mask="" ng-model="route.startingDate">
        </div>
      </div>
      <div class="form-group">
        <label for="routeEndingDate">{{ "ENDING_DATE" | translate}}</label>
        <div>
          <input type="text" class="form-control" data-inputmask="'alias': 'dd/mm/yyyy'" data-mask="" ng-model="route.endingDate">
        </div>
      </div>
      <div class="form-group">
        <label for="routeEndingDate">{{ "DAYS_OF_WEEK" | translate}}</label>
        <div>
          <label ng-repeat="day in daysOfWeek">
            <input type="checkbox" checklist-model="route.routeDaysOfWeek" checklist-value="day"> {{ day | translate }}&nbsp;&nbsp;
          </label>
        </div>
      </div>
    </div>
    <!-- col-1 -->
    <div class="box-footer">
      <button type="submit" class="btn btn-info pull-left" ng-click="searchForRoute(route)"  data-dismiss="modal">{{"LOOK" | translate}}</button>
    </div>
  </form>
</div>
<div class="col-sm-8">
  <div class="pad">
    <div id="mapForLookingRoutes" style="width: 150%; height: 500px; padding-bottom: 75%;" >
    </div>
  </div>
</div>

          </div>

        </div>
        <!-- /.row -->
      </div>
      <!-- /.box-body -->
    </div>


  </section>





  <!-- Modal -->

  <div class="modal fade bs-example-modal-lg" id="modalNewRoute" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"
          aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title">{{ "ADD_ROUTE" | translate }}</h4>
      </div>
      <div class="modal-body">
        <form class="form-horizontal">
          <div class="row">
            <div class="col-sm-12 col-md-6">
              <div class="form-group">
                <label for="routeStartingPoint" class="col-sm-2 control-label">{{ "STARTING_POINT" | translate}}</label>
                <div class="col-sm-10">
                  <input type="text" class="form-control" id="routeStartingPoint"
                  ng-model="newRoute.startingPoint">
                </div>
              </div>
              <div class="form-group">
                <label for="routeEndingPoint" class="col-sm-2 control-label">{{ "ENDING_POINT" | translate}}</label>
                <div class="col-sm-10">
                  <input type="text" class="form-control" id="routeEndingPoint"
                  ng-model="newRoute.endingPoint">
                </div>
              </div>
              <div style="margin-bottom: 15px;">
                <button class="btn btn-block btn-flat btn-primary" ng-click="calculateAndDisplayRoute(newRoute.startingPoint, newRoute.endingPoint)">{{ "SHOW_ROUTE" | translate }}</button>
              </div>
              <div style="form-group">
                <label>{{ "VEHICLE" | translate }}</label>
                <div class="col-sm-10">
                  <select class="form-control" ng-model="newRoute.idVehicle">
                    <option ng-repeat="vehicle in myVehicles()" value="{{vehicle.id}}">{{vehicle.registrationNumber}} - {{vehicle.model}}</option>
                  </select>
                </div>
              </div>
              
              <div class="form-group">
                <label for="routeStartingDate" class="col-sm-2 control-label">{{ "STARTING_DATE" | translate}}</label>
                <div class="col-sm-10">
                  <input type="text" class="form-control" data-inputmask="'alias': 'dd/mm/yyyy'" data-mask="" ng-model="newRoute.startingDate">
                </div>
              </div>
              <div class="form-group">
                <label for="routeEndingDate" class="col-sm-2 control-label">{{ "ENDING_DATE" | translate}}</label>
                <div class="col-sm-10">
                  <input type="text" class="form-control" data-inputmask="'alias': 'dd/mm/yyyy'" data-mask="" ng-model="newRoute.endingDate">
                </div>
              </div>
              <div class="form-group">
                <label for="routeEndingDate" class="col-sm-2 control-label">{{ "DAYS_OF_WEEK" | translate}}</label>
                <div class="col-sm-10">
                  <label ng-repeat="day in daysOfWeek">
                    <input type="checkbox" checklist-model="newRoute.routeDaysOfWeek" checklist-value="day"> {{ day | translate }}&nbsp;&nbsp;
                  </label>
                </div>
              </div>
            </div>
            <!-- col-1 -->
            <div class="col-sm-12 col-md-6">
              <div class="pad">
                <div id="mapRegisterRoute" style="height: 325px;"></div>
              </div>    
            </div>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-default" data-dismiss="modal">{{"CANCEL" | translate}}</button>
            <button type="submit" class="btn btn-info pull-right"
            ng-click="createRoute(newRoute)"  data-dismiss="modal">{{"ACCEPT" | translate}}
          </button>
        </div>

      </form>
    </div>

  </div>
</div>
</div>

</div>

<script>
$(function () {

    //Datemask dd/mm/yyyy
    $("#datemask").inputmask("dd/mm/yyyy", {"placeholder": "dd/mm/yyyy"});
    //Datemask2 mm/dd/yyyy
    $("#datemask2").inputmask("mm/dd/yyyy", {"placeholder": "mm/dd/yyyy"});
    //Money Euro
    $("[data-mask]").inputmask();

  });
</script>